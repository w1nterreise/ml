`[useless линейный квест для тестирования, смысл которого в том чтобы набрать определенное количество очков за 4 хода]`
`Сюжет сгенерирован https://beta.theb.ai/`


main = game (result)

msg текст = snd (write (" - ") (read (sum (текст) (" ") ("[enter для продолжения]")))) (0)
ситуация описание выбор1 выбор2 выбор3 выбор4 = eq (msg (описание)) (print (sum ("1 - ") (выбор1))) (print (sum ("2 - ") (выбор2))) (print (sum ("3 - ") (выбор3))) (print (sum ("4 - ") (выбор4)))
решение x a b c d = write (" -- ") (snd (ситуация (x) (a) (b) (c) (d)) (read ("Ваш выбор: ")))

snd a b         = if (0) (a) (b)
fst a b         = if (1) (a) (b)
score n a b c d = select (n) (-50) (1) (a) (2) (b) (3) (c) (4) (d)
print x         = write (x) (0)

`Геймплей:`

wrap x = fst (x) (msg ("Решение принято"))

ep1 = wrap (score (решение (e1) (e1a) (e1b) (e1c) (e1d))     (30) (10) (5)  (20)) 
ep2 = wrap (score (решение (e2) (e2a) (e2b) (e2c) (e2d))     (40) (15) (25) (35))
ep3 = wrap (score (решение (e3) (e3a) (e3b) (e3c) (e3d))     (30) (20) (10) (25))
ep4 = wrap (score (решение (e4) (e4a) (e4b) (e4c) (e4d))     (50) (30) (15) (40))

title  = eq (print ("Легенда Пограничья")) (print ("")) (print ("")) (print ("")) (print (""))
intro  = eq (msg (intro1)) (print ("")) (msg (intro2)) (print (""))
begin  = eq (print (sum ("Для победы нужно набрать ") (need_score) (" очков"))) (print ("")) (print (""))
game x = eq (title) (intro) (begin) (print (x))
seq    = writurn (sum (ep1) (ep2) (ep3) (ep4) (print ("Очки:")))
result = if (eq (need_score) (seq)) (succ) (fail)

`константы:`

$need_score 100

$intro1 "В загадочном мире Пограничья, охваченном магией и мистическими силами, таится древняя легенда о затерянном артефакте. Вы, отважный искатель приключений, отправляетесь в путешествие через запретные земли, сражаясь с тёмными созданиями в поисках легендарного Одинокого Клинка. Ваша миссия - найти артефакт и использовать его силу для спасения Пограничья или подвергнуться опасности, если его поглотят злые силы."
$intro2 "Дрожащий ветер проникает сквозь густые туманы Пограничья, открывая дорогу в загадочный и опасный мир. В этих землях, наедине с магией и темными силами, история раскрывает свои секреты."

$e1 "Путь нашего героя завертелся в страшных объятиях Проклятого Леса. Туманные путеводные знаки уводили его все глубже в гущу мрака, где деревья, словно скелеты, выступали из-под земли. С каждым шагом на землю падали осенью опавшие листья, но их шорох звучал как тайное шепотом зла. Вдалеке раздавались взволнованные вопли птиц ночи, предсказывающие приближение непостижимой опасности. Герой был окружен мрачными тайнами, ожидающими своих наследников в этой тлетворной чаще."
$e1a "Исследовать глубже (N + 30)"
$e1b "Вернуться назад и искать другой путь (N + 10)"
$e1c "Заблудиться и остаться на месте (N + 5)"
$e1d "Попробовать вызвать помощь своим магическим артефактом (N + 20)"

$e2 "Наш герой забрел в сети темных и бездонных пещер, где время теряло свою ценность, а пространство душило его в сжатую узловатую ловушку. Сталактиты и сталагмиты, покрытые зеленоватой плесенью, словно злобные клыки нечисти, падали с потолка и поднимались с пола, создавая нетронутый хаос. Бестелесные тени скользили по стенам, и каждый шепот влажной пещеры звучал как призыв могущественных духов тьмы. Герою предстояло распутать путаницу и вырваться из объятий этого безумного лабиринта."
$e2a "Пройти через опасные ловушки и искать выход (N + 40)"
$e2b "Искать подсказки или маркировки на стенах (N + 15)"
$e2c "Вернуться на поверхность и найти другой вход в пещеру (N + 25)"
$e2d "Разведать пещеру, используя свои сверхъестественные способности (N + 35)"

$e3 "Блуждая в пещерах, герой оказался  посреди огненного зала. Пылающие факелы, воздвигнутые на алтаре кровавого ритуала, высвечивали искривленные улыбки статуй и чертежей древних богов зла. Все вокруг окутывала тяжелая атмосфера мучительных загадок, и скрипучие эха его шагов служили фоном для прихотливо вздрагивающих стен. Герой должен был достигнуть конечного аккорда этой симфонии, чтобы освободиться от оков этого огненного ада."
$e3a "Решить головоломку с огненными факелами (N + 30)"
$e3b "Попробовать обойти головоломку, перелезая через препятствия (N + 20)"
$e3c "Искать путь вокруг зала (N + 10)"
$e3d "Попытаться использовать магию, чтобы потушить огни (N + 25)"

$e4 "В затерянных вдали от людских глаз землях скрывается зловещий темный маг, знаменитый своей внушительной властью и жестокостью. Магия тьмы плетется между увядших деревьев, окружающих его логово, создавая атмосферу угрозы и опасности. Его злобные планы направлены на покорение мира и причинение страданий несчастным душам. Сражение с этим безжалостным противником потребует от нашего героя максимальной храбрости и смелости, иначе тьма поглотит все вокруг, оставив лишь пепел и разрушения."
$e4a "Вступить в схватку и использовать своё мастерство владения мечом (N + 50)"
$e4b "Использовать заклинание огненного шара против мага (N + 30)"
$e4c "Попытаться разговорить мага и найти мирное решение (N + 15)"
$e4d "Использовать зелье защиты перед сражением (N + 40)"

$succ "Концовка 1: Успешное путешествие, герой находит артефакт.
После многочисленных испытаний и сражений, вы наконец достигаете глубин архаического храма, где прячется Одинокий Клинок. В темноте, под угрожающим шепотом ветра, вы обнаруживаете заросший пылью и забытый артефакт. Ощущая его мощь, ваши руки самолично трепещут от источающейся силы. Победив тьму, вы избавляете Пограничье от опасности и возвращаете мир и гармонию в этот затерянный мир."

$fail "Концовка 2: Поражение, артефакт поглощен тьмой.
Несмотря на все усилия и отвагу, вы не смогли противостоять силам зла и искушению, что таялось внутри храма. Одинокий Клинок оказался слишком могущественным даже для вашего духа. Ваше поражение означает, что тьма будет править Пограничьем навечно, окутывая его вечным мраком и страхом. Неустанно сражайтесь, но ваша потеря является потерей всего мира."